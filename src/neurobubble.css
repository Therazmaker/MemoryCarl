
#neuroBubble{
  position: fixed;
  left:0;
  top:0;
  width:56px;
  height:56px;
  border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #ffffffcc, #66ccff);
  box-shadow:0 0 12px #66ccff66;
  z-index:999999;
  transition:transform 0.2s ease-out;
  cursor:grab;
}

#neuroBubble.dragged{ cursor:grabbing; }

#neuroBubble.idle{
  opacity:0.8;
  transform:scale(0.9);
}

#neuroBubble.thinking{
  animation:pulse 1s infinite;
}

@keyframes pulse{
  0%{ filter:brightness(1); }
  50%{ filter:brightness(1.2); }
  100%{ filter:brightness(1); }
}

.eyes{
  display:flex;
  justify-content:space-around;
  margin-top:16px;
}

.eye{
  width:12px;
  height:12px;
  background:white;
  border-radius:50%;
  position:relative;
}

.pupil{
  width:6px;
  height:6px;
  background:black;
  border-radius:50%;
  position:absolute;
  top:3px;
  left:3px;
}

.mouth{
  width:16px;
  height:6px;
  border-radius:0 0 16px 16px;
  background:black;
  margin:4px auto;
}

#neuroBubble.alert{ box-shadow:0 0 16px #ff6b6b88; }
#neuroBubble.concerned{ box-shadow:0 0 16px #ffaa0088; }
#neuroBubble.calm{ box-shadow:0 0 12px #66ccff66; }

#neuroPanel{
  position:fixed;
  width:240px;
  background:#111827ee;
  color:white;
  padding:10px;
  border-radius:12px;
  font-size:12px;
  display:none;
  z-index:999998;
}

#neuroPanel.open{ display:block; }

.nb-input{ width:100%; margin-top:6px; }

.nb-actions{
  display:flex;
  justify-content:space-between;
  margin-top:6px;
}
/* --- Bubble personality animations --- */
#neuroBubble .eye::after{
  content:"";
  position:absolute;
  left:0; top:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.0);
  border-radius: 50%;
  pointer-events:none;
}

#neuroBubble.blink .eye{
  transform: scaleY(0.15);
  transform-origin: center;
}

#neuroBubble.talk .mouth{
  animation: nbTalk 0.22s infinite alternate ease-in-out;
}

@keyframes nbTalk{
  from{ transform: scaleY(0.7); }
  to{ transform: scaleY(1.15); }
}

/* Speech bubble */
#neuroSay{
  position: fixed;
  max-width: min(320px, calc(100vw - 24px));
  background: rgba(17, 24, 39, 0.92);
  color: #fff;
  padding: 8px 10px;
  border-radius: 14px;
  font-size: 12px;
  line-height: 1.25;
  z-index: 999999;
  display: none;
  box-shadow: 0 10px 28px rgba(0,0,0,0.35);
  backdrop-filter: blur(10px);
}

#neuroSay.show{ display:block; }

#neuroSay .sub{
  opacity: 0.85;
  font-size: 11px;
  margin-top: 6px;
}

#neuroBubble.smile .mouth{
  border-radius: 0 0 18px 18px;
  height: 7px;
}

#neuroBubble.annoyed .mouth{
  border-radius: 10px;
  height: 4px;
  width: 14px;
}
